<style>
  /* On force l'alignement de la liste principale */
  .visible-links {
    display: flex !important;
    flex-direction: row !important;
    overflow: visible !important;
  }

  /* On isole l'élément Project */
  .masthead__menu-item {
    position: relative !important;
  }

  /* Style du sous-menu (le dropdown) */
  ul.sub-menu {
    display: none !important;
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    background-color: #111 !important; /* Fond noir */
    min-width: 200px !important;
    z-index: 9999 !important;
    padding: 10px 0 !important;
    margin: 0 !important;
    list-style: none !important;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5) !important;
  }

  /* Affichage au survol */
  .masthead__menu-item:hover ul.sub-menu {
    display: block !important;
  }

  /* Liens à l'intérieur du menu */
  ul.sub-menu li {
    display: block !important;
    width: 100% !important;
  }

  ul.sub-menu li a {
    padding: 10px 20px !important;
    color: #fff !important;
    display: block !important;
    border-bottom: none !important;
  }


/* --- CIBLAGE RADICAL DU TOC --- */

/* 1. Force la couleur du bandeau de titre et sa bordure */
  .sidebar .nav__title,
  .toc__menu .nav__title,
  #site-toc .nav__title {
    background-color: #f5f5dc !important;
    color: #111 !important;
    border: 1px solid #f5f5dc !important;
  }
  
  /* 2. Force le cadre de la liste et supprime le rose */
  .sidebar .nav__list,
  .toc__menu .nav__items,
  .toc__menu {
    border: 1px solid #f5f5dc !important;
    background-color: transparent !important;
  }
  
  /* 3. Supprime les bordures roses sur chaque lien de la liste */
  .toc__menu li, 
  .toc__menu a,
  .sidebar .nav__list li,
  .sidebar .nav__list a {
    border-bottom-color: #333 !important; /* Ligne de séparation discrète */
    border-left-color: transparent !important; /* Supprime la barre rose à gauche */
  }
  
  /* 4. Style pour le lien actif (quand on défile) */
  .toc__menu .is-active,
  .sidebar .nav__list .is-active {
    color: #f5f5dc !important;
    border-left: 2px solid #f5f5dc !important; /* Barre beige à gauche au lieu de rose */
  }
</style>


<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="{{ '/' | relative_url }}">{{ site.title }}</a>
        <ul class="visible-links">
          {% for link in site.data.navigation.main %}
            <li class="masthead__menu-item">
              <a href="{{ link.url | relative_url }}">{{ link.title }}</a>
              {% if link.children %}
                <ul class="sub-menu">
                  {% for child in link.children %}
                    <li><a href="{{ child.url | relative_url }}">{{ child.title }}</a></li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">{{ site.data.ui-text[site.locale].menu_label | default: "Toggle Menu" }}</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>
